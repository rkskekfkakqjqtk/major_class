### 릴레이션
- 관계를 **표**로 표현
### 속성
- 릴레이션의 열 
- 파일의 필드
### 튜플
- 릴레이션의 행
- 고객 객체 인스턴스
### 도메인
Ex. 등급:  { vip, gold, silver, bronze }
- "등급" 속성의 도메인
- DMBS이 등급의 4가지 외의 값 허용 X
- 동일 데이터 타입이 아니면 비교연산 X (Ex. 나이 + 이름 = 연산 X)
---
### 카다널리티
- 튜플 전체 개수, 값이 삽입/삭제 등 **자주변함**
### 릴레이션 스키마
표현방법
- 릴레이션 이름(속성 이름1, 속성 이름2, 속성  이름3 ....)
- 고객 (고객 아이디, 고객 이름, 고객 나이, 고객 등급 ...)
### 릴레이션 인스턴스
- 튜플의 집합
- 데이터 조작어를 이용 → 튜플의 추가, 삭제 가능 → **동적**
### 릴레이션 특징
- 튜플의 유일성 : 하나의 릴레이션에 동일한 튜플 존재 X
- 튜플의 무순서 : 하나의 릴레이션에 튜플 사이의 순서는 무의미
- 튜플의 원자성 : 속성 값으로 원자값만 사용가능. 다중값 허용 X
---
## 키의 종류 
### 슈퍼키<sup>super key</sup>
- 유일성의 특징 만족 → 속성 or 속성의 집합
- 슈퍼키를 포함한 속성집합도 슈퍼키가 될 수 있음
### 후보키<sup>candidate key</sup>
- 유일성 + 최소성을 만족
- 고객아이디 + 고객이름 → 최소성 만족 X → 후보키 X
	- 고객이름은 중복이 있을 수 있기 때문
### 기본키<sup>primary key</sup>
DB 설계자는 여러 후보키 중에서 "반드시" 기본키를 선택해야 함
- 기본키는 밑줄로 표현할 수 있음
##### 기본키 선택시 고려사항
적합
- 단순한 후보키
	- 자리수 적은 정수, 단순 문자열 속성, 속성의 개수가 적은 것
부적합
- 널<SUP>NULL</SUP>값을 가질 수 있는 속성이 포함되어 있는 후보키
- 값이 자주 변경디는 후보키
### 대체키<SUP>alternate key</SUP>
기본키로 **선택안된 후보키**
### 외래키<SUP>foreign key</SUP>
- 어떤 릴레이션에 소속된 속성 또는 속성 집합이 다른 릴레이션의 기본키가 되는 키
- 다른 릴레이션의 기본키를 그대로 참조하는 속성의 집합
- 외래키는 null 값을 가질 수 있다.
- 외래키는 참조할 수 없는 값을 가질 수 없다.
##### 외래키 참조 방법
- "반드시" 릴레이션의 기본키를 참조해야 함
- 릴레이션 속성은 다르게 정의되어도 도메인(data type)은 동일하게 정의되어야 함
---
### 관계 데이터 연산
- 원하는 데이터를 얻기 위해 릴레이션에 필요한 처리 요구를 수행하는 것
	- 관계 대수 : 순서대로 기술하는 절차언어
	- 관계 해석 : 데이터가 무엇인지만 기술하는 비절차 언어
##### 일반 집합 연산자
합집합 (R∪S), 교집합 (R∩S), 차집합 (R-S, S-R), 카티션 프로덕트 (RxS)
![[데이터베이스 중간고사 저일-20240423062300751.webp]]

---
### 순수 관계 연산자
1. 셀렉
	- 조건에 맞는 튜플(행)을 선택하여 결과 릴레이션을 형성
2. 프로젝트
	- 지정한 컬럼만을 포함하는 새로운 릴레이션을 생성
	- 데이터의 중복을 제거하고 필요한 컬럼만을 선택
3. 조인
	- 두 릴레이션을 결합하여 지정된 조건을 만족하는 새로운 릴레이션을 생성
	- 두 테이블 사이의 관계를 나타내는 데 사용
4. 합집합
	- 두 릴레이션의 합집합을 반환
	- 두 릴레이션의 스키마가 동일해야 함
5. 차집합
	- 첫 번째 릴레이션에서 두 번째 릴레이션에 속하는 튜플을 제외한 나머지를 반환
6. 교집합
	- 두 릴레이션에 공통으로 속하는 튜플만을 포함하는 릴레이션을 생성
7. 카티션 프로덕트
	- 두 릴레이션의 모든 가능한 튜플 조합을 포함하는 새로운 릴레이션 생성
	- 보통 조인 연산의 기초가 된다
---
##### 조인
- 관계가 있는 여러 릴레이션을 함께 사용하는 경우 사용
- 두 릴레이션을 조합하여 하나의 결과 릴레이션을 구성
- 두 릴레이션이 공통으로 가지고 있는 속성이 있으며, 관계가 있다는 의미
##### 조인 방법
내부 조인
- 일반적인 조인 유형
- 두 테이블의 교집합만을 결과로 반환

외부 조인
- 일치하는 행 뿐만 아니라 일치하지 않는 행도 포함하여 반환
---
### 데이터베이스
##### 데이터베이스 설계
사용자들의 요구 사항을 고려하여 데이터베이스를 생성하는 과정
품질 좋은 데이터베이스 생성 조건
- 데이터 일반성과 무결성을 유지
- 사용자가 이해하기쉽고 접근하기 편해야 함
- 구성원들의 요구 사항 만족성 여부
---
##### 데이터베이스 설계의 2가지 방법
1. E-R 모델과 릴레이션 반환 규칙을 이용한 DB 설계
2. 정규화를 이용한 DB 설계
---
##### E-R 모델과 릴레이션 반환 규칙을 이용한 DB 설계
1. 요구사항 분석
	- 구성원들의 사용하는 용도 파악
	- 필요한 데이터의 종류와 처리 방법에 대한 요구 사항 수집 → 요구 사항 명세서로 작성
2. 개념적 설계
	- DBMS에 독립적인 개념적 구조 설계
	- 개념적 모델 : 사용자의 요구 사항 명세서를 개념적 모델로 변환하는 일
	- E-R 모델은 데이터 요소와 요소 간의 관계를 E-R 다이어그램으로 표현함
3. 논리적 설계
	- 개념적 설계를 기반으로 DBMS에 논리적인 구조 설계
	- 논리적 모델링 : E-R 다이어그램을 릴레이션 스키마로 변환하는 작업
4. 물리적 설계
	- 논리적 구조를 기반으로 물리적 구조를 설계함
	- 물리적 구조 : 내부 저장구조, 접근 경로 등을 의미
	- 저장 레코드, 인덱스의 구조 등을 설계, 저장된 데이터와 인덱스를 빠르게 접근하는 탐색 기법 등을 정의
5. 구현
	- 데이터 정의어를 이용하여 DB를 실제로 생성
---
### 개체와 속성 추출
요구 사항 명세서로부터 개체 찾기
- 개체, 속성을 구분하기 어렵다.
- 개체는 대체적으로 요구사항 내에서 **명사**를 찾아야 한다.
- 명사가 여러 개이면 대표 명사 하나만 선택해야 함.
- 조직 자체를 가리키는 것은 배제함
- 명사라고 생각하는 것도 명사가 아닐 수 있음
- 찾아낸 명사들로부터 개체와 속성을 가려야 함
---
### 관계 추출
요구 사항 명세서로부터 관계 찾기
- 관계는 대체적으로 요구사항 내에서 **동사**를 찾아야 한다.
- 동사가 여러 개이면 대표 동사 하나만 선택해야 함
- 매핑 카디널리티 : 1:1, 1:n, n:m
- 관계가 필수적인지, 선택적인지 참여 특성을 결정해야 함
---
### 논리적 설계
릴레이션 스키마 변환 규칙
1. 모든 개체는 릴레이션으로 변환한다.
2. n:m 관계는 릴레이션으로 변환한다.
3. 1:n 관계는 외래키로 표현한다.
4. 1:1 관계는 외래키로 표현한다.
5. 다중 값 속성은 릴레이션으로 변환한다.
	- 기타 고려사항
		- 속성이 많은 관계는 관계 유형에 상관없이 릴레이션으로 변환 가능
			- n:m 관계가 아닐 경우 불필요한 릴레이션으 개수가 많아져 DBMS에 부담
			- 1:n 관계일 때 순환 관계의 속성으로 릴레이션에 포함해서 표현해도 됨
### 물리적 설계
테이블 명세서를 통해 SQL문을 작성하기
- DBMS의 GUI를 통해 빌드하거나 직접 SQL문을 작성함