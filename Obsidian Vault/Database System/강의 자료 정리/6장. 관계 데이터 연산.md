### 관계 데이터 연산
- 원하는 데이터를 얻기 위해 릴레이션에 필요한 처리 요구를 수행하는 것
- 대표적인 관계 데이터 연산
	- 관계 대수 : 원하는 결과를 얻기 위해 데이터의 처리 과정을 순서대로 기술하는 절차언어
	- 관계 해석 : 원하는 결과를 얻기 위해 처리를 원하는 데이터가 무엇인지만 기술하는 비절차언어
![[데이터베이스 시스템 6-20240414134005578.webp]]

### 관계 대수의 개념과 연산자
- 관계 대수의 개념
	- 원하는 결과를 얻기 위해 릴레이션을 처리하는 과정을 순서대로 기술하는 언어(릴레이션을 연산함)
- 관계 대수 연산자 분류
![[데이터베이스 시스템 6-20240414134057204.webp|400]]
##### 일반 집합 연산자
- 합집합 (R∪S), 교집합 (R∩S), 차집합 (R-S, S-R), 카티션 프로덕트 (RxS)
![[데이터베이스 시스템 6-20240414134141748.webp|500]]
---
- 일반 집합 연산을 위해 피연산자가 2개가 필요하며 2개의 릴레이션을 연산함
- 2개의 릴레이션은 합병이 가능해야 함
	- 두 릴레이션의 차수가 같다 (즉, 두 릴레이션의 속성이 같다)
	- 2개의 릴레이션에서 서로 대응되는 속성의 도메인이 같다 (속성 이름은 달라도 됨)
---
- 2개의 릴레이션 **합병이 불가능**한 예
	- 차수는 같으나 속성의 도메인이 다르다 (나이 int ≠ 직위 char(20))
![[데이터베이스 시스템 6-20240414134539495.webp|500]]
---
- 2개의 릴레이션 **합병이 가능**한 예
	- 합집합, 교집합, 차집합의 연산은 가능함
	- 카티션 프로덕트는 합병 가능 여부와 상관없이 연산이 가능함
![[데이터베이스 시스템 6-20240414134638757.webp|500]]
---
- 합집합
	- R∪S: 중복이 있다면 합집합의 개수는 적어진다
	- R∪S = S∪R
![[데이터베이스 시스템 6-20240414134822416.webp|400]]
---
- 교집합
	- R∩S: 중복이 있다면 합집합의 개수는 적어진다
	- 교집합 연산을 한 후에도 결과 릴레이션의 차수는 R과 S의 차수와 동일함
	- R∩S = S∩R
![[데이터베이스 시스템 6-20240414134905501.webp|400]]
---
- 차집합
	- R-S: 릴레이션 R에는 존재하지만 릴레이션 S에는 존재하지 않는 튜플의 결과
	- 차집합 연산을 한 후에도 결과 릴레이션의 차수는 R과 S의 차수와 동일함
	- R-S ≠ S-R
![[데이터베이스 시스템 6-20240414135009701.webp|400]]
---
- 카티션 프로덕트
	- RxS: 릴레이션 R과 S에 속한 각 튜플을 모두 연결하여 만들어진 새로운 튜플의 결과
	- 두 릴레이션이 합병이 불가능한 경우도 카티션 프로덕트가 가능함
	- 카티션 프로덕트 연산을 한 후에도 결과 릴레이션의 차수는 R과 S의 차수를 더한 것과 동일하고 카디널리티는 R과 S의 카디널리티를 곱한 것과 동일함
	- RxS = SxR
![[데이터베이스 시스템 6-20240414135116835.webp|450]]
---
##### 순수 관계 연산자
- 셀렉트 (σ조건(R)), 프로젝트 (π<sub>속성리스트</sub>(R)), 조인 (R▷◁S)
- 디비전 (R÷S): 관련된 것만 추출
![[데이터베이스 시스템 6-20240414134317835.webp|450]]
---
- 셀렉트
	- 하나의 릴레이션을 대상으로 수행함
	- σ조건식(릴레이션), 조건식: 비교식 또는 predicate 라고 함
- σ<sub>조건식=‘gold’</sub>(릴레이션) ?
![[데이터베이스 시스템 6-20240414135258156.webp|600]]
---
- σ<sub>조건식=‘gold’ and 적립금≥2000</sub>(릴레이션) ?
![[데이터베이스 시스템 6-20240414135409214.webp]]
- 수평적 부분집합, 수평적 연산자라 할 수 있음
---
- ∧(AND), ∨(OR), ㄱ(NOT)
- σ<sub>조건식1</sub>(σ<sub>조건식2</sub>(릴레이션)) = σ<sub>조건식2</sub>(σ<sub>조건식1</sub>(릴레이션)) = σ<sub>조건식1∧조건식2</sub>(릴레이션)
- σ<sub>적립급≥2000</sub>(σ<sub>등급=‘gold’</sub>(고객)) = σ<sub>등급=‘gold’</sub>(σ<sub>적립급≥2000</sub>(릴레이션)) = σ<sub>등급=‘gold’∧적립급≥2000</sub>(릴레이션)

- 수평적 부분집합, 수평적 연산자라 할 수 있음
---
- 프로젝트
	- 릴레이션에서 선택한 **속성**에 해당하는 값으로 결과 릴레이션을 구성함
	- π<sub>고객이름, 등급, 적립금</sub>(릴레이션) ?
![[데이터베이스 시스템 6-20240414135946053.webp]]
- 릴레이션에서 선택한 속성에 해당하는 값으로 결과 릴레이션을 구성함
- 수직적 연산자
- π<sub>등급</sub>(릴레이션) ? gold에 대한 중복되지 않는다 (튜플의 기본 특성)
![[데이터베이스 시스템 6-20240414140045791.webp]]
---
- 조인
	- 관계가 있는 여러 릴레이션을 함께 사용하는 경우 사용하며 두 릴레이션을 조합하여 하나의 결과 릴레이션을 구성함
	- 두 릴레이션이 공통으로 가지고 있는 속성이 있으며, 관계가 있다는 의미임
	- 릴레이션1 ▷◁ 릴레이션2
---
조인 방법
- 관계가 있는 여러 릴레이션을 함께 사용하는 경우 두 릴레이션을 조합하여 하나의 결과 릴레이션을 구성함
- 고객 ▷◁ 주문
---
일반화된 조인 방법
- 릴레이션1 ▷◁<sub>AθB</sub> 릴레이션2: AθB (조인 조건) // θ 의 예 >, ≥, <, ≤, =, ≠
- 릴레이션1 ▷◁<sub>A=B</sub> 릴레이션2
- 고객/주문 릴레이션: 고객 ▷◁<sub>고객.고객아이디=주문.고객아이디</sub> 주문
---
자연 조인
- 조인 시 중복된 속성을 제거하여 결과 릴레이션으로 구성하는 것
- 고객 ▷◁<sub>N</sub> 주문
---
자연 조인의 예.
- 고객 아이디가 한번만 나옴
- 고객 ▷◁<sub>N</sub> 주문
---
여러 개의 속성으로 자연 조인
- 조인 속성: B1, B2
---
디비전
- R÷S: 릴레이션 S와 관련 있는 릴레이션 R의 튜플로 결과 릴레이션을 구성함
- 릴레이션 S의 모든 속성과 도메인이 같은 속성을 릴레이션 R이 포함한다는 것을 의미함
---
다른 디비전의 예
- R÷S: 릴레이션 S와 관련 있는 릴레이션 R의 튜플로 결과 릴레이션을 구성함
---
관계 대수를 이용한 질의 표현
- 고객 릴레이션과 주문 릴레이션에 대한 질의 예제를 대수 연산자를 이용해 표현하는 방법
- 고객 릴레이션과 주문 릴레이션에 대한 질의 예제를 대수 연산자를 이용해 표현하는 방법
- 고객 릴레이션과 주문 릴레이션에 대한 질의 예제를 대수 연산자를 이용해 표현하는 방법
---
세미 조인
- **릴레이션 S의 조인 속성**으로만 구성한 릴레이션을 릴레이션 R에 자연 조인한 것
- R ▷< S
- 1R ▷< S ≠ R ▷< S
---
외부 조인
- 두 릴레이션에 자연 조인 연산을 수행할 때 조인 속성 값이 같은 튜플이 상대 릴레이션에 존재하지 않아 조인 연산에서 제외된 모든 튜플을 결과 릴레이션에 포함시키는 것
- R ▷◁ S // 왼쪽 외부 조인
- R ▷◁ S // 오른쪽 외부 조인
- R ▷◁ S // 완전 외부 조인
---
##### 처리를 원하는 데이터가 무엇인지만 기술하는 비절차 언어
- 관계 데이터 연산의 한 종류
- 대표적으로 SQL이 있음
	- 튜플 관계 해석
	- 도메인 관계 해석

