컴퓨터 네트워크의 발전 요인
- 정보 공유: H/W, S/W 뿐만 아니라 네트워크 응용 환경에 대한 손쉬운 접근
- 병렬 처리에 의한 성능 향상: 시스템 내부에서 주로 사용했지만 분산 병렬 처리 시스템으로 네트워크 내에 서 상당한 기술 발전을 이룸(Ex. 메타버스)
- 분산되고 중복 저장에 따른 신뢰성 향상: 접근의 다양성을 보장하고, 고장 시 신속한 복구가 가능함(Ex. 클라우드 서비스 - 중복, 백업 기술로서 시스템의 안정성 및 신뢰성을 향상함)

## 전송 방식
### 전송과 라우팅
##### 라우팅의 개요
- 호스트 a 에서 호스트 c로 직접 전송
- 호스트 c 에서 올바른 경로를 선택하는 라우팅
- 호스트 c 에서 호스트 d로 직접 전송
![[4장. 데이터 전송-20240418171621060.webp|450]]
### 전송 방식의 종류
- 지리적 분포에 따라 구분하는 방식: LAN < MAN < WAN
- 데이터 전송/라우팅 기술에 따라 구분하는 방식 : 점대점 방식, 브로드캐스팅 방식
---
### 점대점 방식
- 송수신 호스트가 중개 호스트와 1 : 1로 연결 되는 것
- 원거리에 있는 호스트 사이의 통신 방식으로 WAN 환경에서 주로 사용
##### 라우팅 호스트가 송수신 호스트의 중간에 위치하는 방식
- 중간 호스트가 라우팅 기능으로 최적의 경로를 선택해야 함
- 여러가지 토폴로지: 스타형, 링형, 망형(완전형), 불규칙형
![[4장. 데이터 전송-20240418171917686.webp|300]]
##### 스타형
- 중간 호스트가 전체 네트워크의 성능과 신뢰성을 좌우함
- 트리형: 스타 구조의 호스트들 중심으로 새로운 스타 구조로 확장시킬 수 있음, 네트워크를 무한대로 확장할 수 있음
![[4장. 데이터 전송-20240418172118312.webp|400]]
##### 링 형
- 모든 전송 데이터가 링을 한 바퀴 순환하도록 설계되었기 때문에 브로드캐스팅 방식을 지원함
- 데이터 전송 권한인 토큰을 확보함
- 평소에 링 네트워크에서 순환하는 토큰을 호스트 내부에 보관했다가 전송을 할 때 사용함
- 데이터가 링 네트워크 전체를 1회 순환하면 토큰을 링 네트워크로 반환해야 함
- 이러한 과정을 통해 **모든 호스트가 동일한 전송 기회를 부여** 받음
- 스타형처럼 한 호스트가 고장나면 전체 네트워크에 영향을 주기 때문에 관리 호스트를 따로 둠
##### 망 형
- 직접 연결 방식이라 라우팅이 필요 없음
- 호스트가 증가하면 전송 매체의 개수가 극단적으로 상승하여 비효율적임
- 총 전송 매체의 수: N x (N – 1) / 2
- 극강의 신뢰성 혹은 전송 오류를 대비하여 많은 우회 경로를 두는 것은 실제 많이 활용되지 않음(네트워크 기술이 많이 발전함)
##### 불규칙형
- 특정 토폴로지로 명명할 수 없는 구조
- 보통 빠른 네트워크 구축으로 인해 토폴로지 설계 개념이 없이 구성될 때 발생 (Ex. 통신사 간 4G/5G 기지국 구축 경쟁 혹은 일시적 트래픽 폭증에 의해 증설된 경우)
---
### 브로드캐스팅 방식
- 연결된 모든 호스트로 데이터가 전송하는 것
- LAN 환경에서 주로 사용
- 모든 호스트에 데이터를 전송하기 때문에 라우팅 기능이 필요 없음
- 모든 호스트가 데이터를 수신하지만 원치 않는 수신 호스트는 데이터를 버림
- LAN 환경에서는 버스<sup>Bus</sup>형이 링<sup>Ring</sup>형 보다 선호됨

대표 토폴로지
- 버스 형, 링 형
![[4장. 데이터 전송-20240418172551805.webp|400]]
---
##### 버스<sup>Bus</sup> 형
- 모든 호스트가 하나의 전송 매체를 공유하여 모든 호스트에서 수신할 수 있는 구조
	- 송수신 호스트의 주소 표시 기능을 통해 데이터 수신 여부를 결정
- 데이터 충돌: 둘 이상의 호스트에서 데이터를 동시에 전송하는 경우
	- 호스트의 전송 권한을 제한하여 사전에 충돌을 예방하는 방식: 전송 시간대를 지정하는 방법, 토큰을 이용하여 전송 권한을 순환하는 방법
	- 충돌을 하용하고 발생 시 이를 해결하는 방식: 충돌을 감시하고 재전송을 통해 오류를 복구함(대표적으로 이더넷에서 채택하는 방식)
##### 링<sup>Ring</sup> 형
- 점대점 방식에서 설명한 것과 동일함
	- 원칙적으로 토큰 1개만 링 네트워크 위에서 순환하기 때문에 충돌이 발생하지 않음
---
### 멀티포인트<sup>Multipoint</sup> 통신
- 유니캐스팅: 송신 호스트가 한 번의 전송으로 수신 호스트 하나에만 데이터 전송하는 방식
- 멀티캐스팅: 다수의 수신 호스트에게 전송하는 방식
---
##### 유니캐스팅
두 호스트 사이의 1 : 1 통신만 지원
- 문자 메세지 전송
- 각 연결마다 네트워크 리소스, 대역폭이 사용되어 전송 비용이 큼
- 수신 호스트 (d, e, f)로 3개의 연결 설정이 필요
![[4장. 데이터 전송-20240418173000574.webp|450]]
##### 브로드캐스팅
불특정 호스트 전체로 전송되는 방식
- 수신 데이터의 처리는 수신 호스트가 알아서 함
- 네트워크 내 트래픽이 급격히 증가함 
- 수신 호스트 주소가 자신과 일치하지 않으면 수신 호스트는 데이터를 폐기함
- 서브넷 내로 브로드캐스팅(브로드캐스팅 영역을 작게 하는 효과)하거나 지정된 브로드캐스팅 주소를 활용해 전송함
##### 멀티캐스팅
특정 호스트 전체로 전송되는 방식
- 멀티캐스트 IP한번의 설정으로 데이터를 전송할 수 있음
- 멀티캐스트 그룹에 대한 생성, 관리(가입 및 탈퇴)가 필요
- 수신 호스트 근처의 라우터에서 전송 데이터를 복제하여 멀티캐스트 그룹으로 전송하는 형태로 발전 (네트워크 부하 경감을 위해)
- Ex. (IPTV<sup>Internet Protocol TV</sup>)
![[4장. 데이터 전송-20240418173235846.webp|400]]
---
### 전송 오류의 유형
##### 오류 복구 기능
- 수신 호스트의 응답 프레임: 정상 도착 응답<sup>Acknowledgement (ACK)</sup>, 비정상 도착 응답<sup>Negative ACK (NACK)</sup>, 일정 시간 후 도착하지 않으면 송신 호스트에서 재전송함 (NACK 많이 안쓰임)
- 송신 호스트의 타이머 기능: 송신 호스트가 데이터 전송 후 수신 호스트로부터 응답 프레임 회신이 없으면 **타임아웃<sup>Timeout</sup>** 기능을 통해 데이터를 재전송함
- 순서 번호<sup>Sequence Number</sup> 기능: 송신 호스트가 타임아웃 기능에 의해 재전송하면 수신 호스트가 중복된 패킷을 받을 수 있기 때문에 중복 데이터를 가려내야 함
- 오류 검출 코드: 수신 호스트에서 오류 감시하는 기능 (순환 중복 검사<sup>Cyclic Redundancy Check</sup>)과 오류를 복구하는 기능이 있지만 복구 기능은 활용하지 않음
---
##### 정상적인 전송
- 데이터가 오류 없이 전송 과정이 완료
- 긍정 응답 프레임을 오류없이 받았다는 의미
![[4장. 데이터 전송-20240418173613036.webp|300]]
##### 프레임 변형 오류
- 수신 호스트에서 오류 검출 코드를 근거로 판단
- 부정 응답 프레임에 대해 송신 호스트에서 데이터를 재전송
![[4장. 데이터 전송-20240418173658088.webp|300]]
##### 프레임 분실 오류
- 수신 호스트에서 어떠한 데이터도 받지 못해서 긍정/부정 응답 프레임을 보내지 못함
- 결국 타임아웃<sup>Timeout</sup>기능에 따라 송신 호스트 스스로 재전송
![[4장. 데이터 전송-20240418173751289.webp|350]]
---
### 오류 제어
##### 순서 번호<sup>Sequence Number</sup>
순서 번호의 필요성
- 수신 호스트는 재전송에 의한 데이터인지, 다음 데이터 프레임인지 구분 못함
![[4장. 데이터 전송-20240418173843665.webp|450]]
순서 번호의 기능
- 긍정 응답 프레임을 분실해도 구분할 수 있음
![[4장. 데이터 전송-20240418173911298.webp|450]]
---
### 흐름제어<sup>Flow Control</sup>
수신 호스트가 감당할 수 있을 정도의 전송 속도를 유지하며 전송하는 것
- 수신 호스트 내부 버퍼에 보관할 여유가 필요
- 흐름 제어가 없다면 데이터 분실이 발생
- 불필요한 재전송을 유발
- 수용 가능한 데이터 프레임 개수를 송신 측에 통지
![[4장. 데이터 전송-20240418174018067.webp|450]]
---
## 프레임 구조
##### 문자 프레임<sup>Character Frame</sup>
ASCII(8비트) 기반 구성
- 전송 제어 문자를 프레임 앞 뒤에 추가함
- DLE<sup>Data Link Entity</sup>, STX<sup>Start of Text character</sup>, ETX<sup>End of Text characte</sup>
- 네트워크 혼잡도에 따라 전송 경로가 결정
 ![[4장. 데이터 전송-20240418174155700.webp|500]]
 ---
##### 문자 스터핑<sup>Character Stuffing</sup>
 - 문자 프레임 내부에 DLE 문자가 포함되어 발생하는 혼란을 예방하는 방법으로 전송 과정에서 제어 문자를 추가하는 기능
 - 송신 호스트가 DLE 문자가 있으면 강제적으로 추가해서 수신 측으로 전송함
 - 상위 계층으로 전달하기 전에 **2번째 DLE는 빼고 전송**해야 함
 ![[4장. 데이터 전송-20240418174340791.webp|500]]
---
### 비트 프레임<sup>Bit Frame</sup>
프레임의 구조
- 프레임 좌우에 플래그를 추가하고 수신 호스트가 상위 계층 전달 시 이 플래그<sup>Flag</sup>를 제거하고 전달함
![[4장. 데이터 전송-20240418174501322.webp|500]]
비트 스터핑
- 데이터 내용에 플래그Flag 패턴이 발생하는 것 (1이 연속해서 6개 나오는 것)을 차단하기 위해 데이터의 내용에서 1이 연속적으로 5번 발생하면 강제적으로 0을 추가해서 전송함
- 수신호스트는 **추가된 0을 제거**하고 원본 데이터를 상위 계층으로 전달함
![[4장. 데이터 전송-20240418174548552.webp|500]]
---
### 오류 검출 기법
##### 오류 검출
- 전송 프레임에 오류 검출 코드를 넣어 수신 측에서 오류를 감지하도록 함
	- 이 때 복구 방식은 재전송
	- 오류 검출 코드로서 패리티 비트, 블록 검사, 순환 중복 검사를 이용하여 생성함
##### 패리티 비트
- ▪ ASCII 코드 8비트 중 1비트를 패리티<sup>Parity</sup> 비트로 두고 전체 8비트를 짝수나 홀수가 되도록 함
	- 짝수 패리티 방식: 전체 1의 수가 홀수이면 전송 오류로 판단함
	- 홀수 패리티 방식: 전체 1의 수가 짝수이면 전송 오류로 판단함
	- **둘 중 한가지만 사용해야 함**
![[4장. 데이터 전송-20240418174735701.webp|300]]
##### 블록 검사
만약 다수의 비트에 오류가 생긴다면?
- 수평 방향과 수직방향으로 짝수 패리티 방식을 적용하면 해결 가능함
- 하지만 오류 검출의 오버헤드가 크고 수평과 수직 방향 모두에서 짝수 (여러) 개의 오류가 발생하면 검출하지 못함
![[4장. 데이터 전송-20240418174830240.webp|500]]
##### 순환 중복 검사
- 네트워크 프로토콜에서 가장 많이 사용하는 오류 검출 기법 (네트워크 관제 포인트)
- 특정 위치에서 집중적으로 발생하는 버스트 에러<sup>Burst Error</sup>가 많음
- 생성 다항식
	- m+n 비트 데이터를 생성 다항식 G(x)로 나누어 0이 아니면 오류
![[4장. 데이터 전송-20240418174926167.webp|350]]
##### 채크섬
생성 다항식을 이용한 에러 검출 방법(나머지가  0이 아니면 오류 발생)
![[4장. 데이터 전송-20240418175012761.webp|500]]






